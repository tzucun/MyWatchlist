<%- include('partials/header') %>
<%- include('partials/nav') %>

<div class="container">
    <h1>Login</h1>

    <% if (typeof errorMessage !== 'undefined' && errorMessage) { %>
        <p class="error-message"><%= errorMessage %></p>
    <% } %>

    <form action="/login" method="POST">
        <label for="username">Username</label>
        <input type="text" id="username" name="username" required>
        
        <label for="password">Password</label>
        <div class="password-wrapper">
            <input type="password" id="password" name="password" required>
            <button type="button" id="togglePassword">👁️</button>
        </div>
        
        <button type="submit">Login</button>
    </form>
    <a href="/register">Don't have an account? Register here</a>
</div>

<script>
    const togglePassword = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('password');

    togglePassword.addEventListener('click', () => {
        const type = passwordInput.type === 'password' ? 'text' : 'password';
        passwordInput.type = type;
        togglePassword.textContent = type === 'password' ? '👁️' : '🙈';
    });
</script>

<%- include('partials/footer') %>
