<%- include('partials/header') %>
<%- include('partials/nav') %>

<div class="container">
    <h1>Register</h1>
    
    <% if (typeof errorMessage !== 'undefined' && errorMessage) { %>
        <p class="error-message"><%= errorMessage %></p>
    <% } %>

    <form action="/register" method="POST">
        <label for="username">Username</label>
        <input type="text" id="username" name="username" required>
        
        <label for="email">Email</label>
        <input type="email" id="email" name="email" required>
        
        <label for="password">Password</label>
        <div class="password-wrapper">
            <input type="password" id="password" name="password" required>
            <button type="button" id="togglePassword">👁️</button>
        </div>
        
        <button type="submit">Register</button>
    </form>
    <a href="/login">Already have an account? Login here</a>
</div>

<script>
    const togglePassword = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('password');

    togglePassword.addEventListener('click', () => {
        const type = passwordInput.type === 'password' ? 'text' : 'password';
        passwordInput.type = type;
        togglePassword.textContent = type === 'password' ? '👁️' : '🙈';
    });
</script>

<%- include('partials/footer') %>
